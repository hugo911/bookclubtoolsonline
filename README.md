# EPUB/PDF 词汇提取器 - 使用说明

## 🌟 项目简介

EPUB/PDF 词汇提取器是一个智能英语学习工具，能够从 EPUB 和 PDF 格式的电子书中提取出值得学习的低频词汇，并生成标准格式的词汇表，方便导入到 Anki 或 Quizlet 等学习工具中。

## 🚀 核心功能

### 1. 智能词汇识别
- 使用 spaCy 自然语言处理库进行词汇识别
- 自动进行词干化处理，避免重复词汇
- 过滤掉标点符号和非字母内容

### 2. 多格式支持
- 支持 EPUB 格式电子书
- 支持 PDF 格式电子书（使用 PyPDF2 和 PyMuPDF 双重引擎）
- 自动选择最佳的文本提取方案

### 3. 个性化难度筛选
- 基于词汇频率排名进行筛选
- 支持自定义阈值（1000-50000）
- 根据用户水平推荐合适的阈值设置

### 4. 无缝学习集成
- 生成 Anki/Quizlet 兼容的 CSV 格式
- 包含英文单词和中文翻译
- 支持一键下载和导入

## 📖 使用指南

### 准备工作
1. 确保电子书为 EPUB 或 PDF 格式
2. 如果是其他格式，请使用 [Calibre](https://calibre-ebook.com/) 转换
3. 文件大小不超过 50MB
4. **注意：** PDF 格式的文本提取质量取决于文件制作方式，扫描版 PDF 可能无法正确提取文本

### 操作步骤
1. **上传文件**：选择或拖拽 EPUB 文件到上传区域
2. **设置阈值**：根据个人英语水平调整词汇量阈值
3. **开始分析**：点击"开始智能分析"按钮
4. **下载词汇表**：分析完成后下载 CSV 文件
5. **导入学习工具**：将 CSV 文件导入到 Anki 或 Quizlet

### 阈值设置建议
- **初学者（5000-8000）**：适合词汇量较少的学习者
- **中级水平（8000-15000）**：平衡难度和数量
- **高级水平（15000-25000）**：专注于高难度词汇
- **专业水平（25000+）**：仅包含最具挑战性的词汇

## 🛠 技术架构

### 后端技术栈
- **Flask**：Web 框架
- **spaCy**：自然语言处理
- **pandas**：数据处理
- **EbookLib**：EPUB 文件解析
- **BeautifulSoup**：HTML 内容提取

### 前端技术栈
- **Bootstrap 5**：响应式 UI 框架
- **Font Awesome**：图标库
- **原生 JavaScript**：交互功能

## 📁 项目结构

```
bookclubtoolsonline/
├── app.py                 # Flask 应用主文件
├── requirements.txt       # Python 依赖
├── dict.csv              # 词汇翻译词典
├── wfdata.xlsx           # 词汇频率数据
├── templates/
│   └── index.html        # 前端模板
├── temp_data/            # 临时数据存储
└── en_core_web_sm/       # spaCy 英语模型
```

## 🔧 部署说明

### 本地运行
1. 安装依赖：`pip install -r requirements.txt`
2. 下载 spaCy 模型：`python -m spacy download en_core_web_sm`
3. 运行应用：`python app.py`
4. 访问：`http://localhost:5000`

### Docker 部署
项目包含 Dockerfile，可以使用 Docker 进行部署：
```bash
docker build -t epub-extractor .
docker run -p 5000:5000 epub-extractor
```

## 📊 API 接口

### 主要端点
- `GET /`：主页
- `POST /`：上传文件并分析
- `GET /download`：下载生成的词汇表
- `GET /api/status`：API 状态检查
- `GET /api/help`：API 帮助信息

### 上传参数
- `epub_file`：EPUB 文件（必需）
- `rank_threshold`：词汇量阈值（可选，默认 15000）

## 🎯 学习建议

### 使用技巧
1. **渐进式学习**：从较低阈值开始，逐步提高难度
2. **分批学习**：每次学习 100-200 个词汇效果最佳
3. **语境记忆**：结合原文语境记忆单词
4. **定期复习**：使用间隔重复法巩固记忆

### 学习工具集成
- **Anki**：文件 → 导入 → 选择 CSV 文件
- **Quizlet**：创建学习集 → 导入 → 选择"制表符分隔"

## 🔒 隐私保护

- 上传的文件仅用于词汇提取，不会永久存储
- 临时文件会在 1 小时后自动删除
- 不收集任何个人信息

## 🐛 常见问题

**Q: 为什么有些词汇没有翻译？**
A: 翻译来自内置词典，可能不包含所有专业术语。建议手动查找显示为"N/A"的词汇翻译。

**Q: 如何选择合适的阈值？**
A: 建议从较低阈值开始测试，如果生成词汇过多，可逐步提高阈值。

**Q: 支持其他电子书格式吗？**
A: 目前仅支持 EPUB 格式，其他格式需要先转换为 EPUB。

## 🤝 贡献指南

欢迎提交 Issue 和 Pull Request 来改进项目！

## 📄 许可证

MIT License
